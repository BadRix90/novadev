<div class="contact-page">
  <section class="contact">
    <div class="contact__container">
      <div class="contact__header">
        <h1 class="contact__title">{{ texts.header.title }}</h1>
        <p class="contact__subtitle">{{ texts.header.subtitle }}</p>
      </div>

      <div class="contact__content">
        <!-- Formular Links -->
        <div class="contact__form-wrapper">
          <form class="contact__form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">

            <!-- Unternehmen (optional) -->
            <div class="contact__form-group">
              <label for="company" class="contact__label">{{ texts.form.company.label }}</label>
              <input type="text" id="company" formControlName="company" class="contact__input"
                [placeholder]="texts.form.company.placeholder">
            </div>

            <div class="contact__form-group">
              <label for="subject" class="contact__label">{{ texts.form.subject.label }}</label>
              <select id="subject" formControlName="subject" class="contact__select"
                [class.contact__select--error]="isFieldInvalid('subject')" required>
                <option value="" disabled selected>{{ texts.form.subject.placeholder }}</option>
                @for (option of subjectOptions; track option.value) {
                <option [value]="option.value">{{ option.label }}</option>
                }
              </select>
              @if (isFieldInvalid('subject')) {
              <span class="contact__error">{{ getFieldError('subject') }}</span>
              }
            </div>

            <!-- Name (Pflichtfeld) -->
            <div class="contact__form-group">
              <label for="name" class="contact__label">{{ texts.form.name.label }}</label>
              <input type="text" id="name" formControlName="name" class="contact__input"
                [class.contact__input--error]="isFieldInvalid('name')" [placeholder]="texts.form.name.placeholder"
                required>
              @if (isFieldInvalid('name')) {
              <span class="contact__error">{{ getFieldError('name') }}</span>
              }
            </div>

            <!-- E-Mail (Pflichtfeld) -->
            <div class="contact__form-group">
              <label for="email" class="contact__label">{{ texts.form.email.label }}</label>
              <input type="email" id="email" formControlName="email" class="contact__input"
                [class.contact__input--error]="isFieldInvalid('email')" [placeholder]="texts.form.email.placeholder"
                required>
              @if (isFieldInvalid('email')) {
              <span class="contact__error">{{ getFieldError('email') }}</span>
              }
            </div>

            <!-- Projekt/Nachricht (Pflichtfeld) -->
            <div class="contact__form-group">
              <label for="project" class="contact__label">{{ texts.form.message.label }}</label>
              <textarea id="project" formControlName="message" class="contact__textarea"
                [class.contact__textarea--error]="isFieldInvalid('message')"
                [placeholder]="texts.form.message.placeholder" rows="5" required></textarea>
              @if (isFieldInvalid('message')) {
              <span class="contact__error">{{ getFieldError('message') }}</span>
              }
            </div>

            <!-- Budget (optional) -->
            <div class="contact__form-group">
              <label for="budget" class="contact__label">{{ texts.form.budget.label }}</label>
              <select id="budget" formControlName="budget" class="contact__select">
                <option value="">{{ texts.form.budget.placeholder }}</option>
                <option value="< 2.000€">{{ texts.form.budget.options[0] }}</option>
                <option value="2.000€ - 5.000€">{{ texts.form.budget.options[1] }}</option>
                <option value="5.000€ - 10.000€">{{ texts.form.budget.options[2] }}</option>
                <option value="> 10.000€">{{ texts.form.budget.options[3] }}</option>
              </select>
            </div>

            <!-- Honeypot - unsichtbar -->
            <div class="contact__honeypot">
              <label for="website">Website (bitte leer lassen)</label>
              <input type="text" id="website" name="website" formControlName="website" tabindex="-1" autocomplete="off">
            </div>

            <!-- Submit Button -->
            <button type="submit" class="contact__submit" [disabled]="!contactForm.valid || isSubmitting">
              {{ isSubmitting ? texts.form.submit.sending : texts.form.submit.idle }}
            </button>

            <!-- Success/Error Message -->
            @if (submitMessage) {
            <div class="contact__message" [class.contact__message--success]="submitSuccess">
              {{ submitMessage }}
            </div>
            }
          </form>
        </div>

        <!-- Direktkontakt Rechts -->
        <div class="contact__info">
          <div class="contact__info-card">
            <h3 class="contact__info-title">{{ texts.info.title }}</h3>

            <div class="contact__info-item">
              <span class="contact__info-label">{{ texts.info.email.label }}</span>
              <a href="mailto:kontakt@saltcity-web.com" class="contact__info-link">
                {{ texts.info.email.value }}
              </a>
            </div>

            <div class="contact__info-item">
              <span class="contact__info-label">{{ texts.info.location.label }}</span>
              <span class="contact__info-text">{{ texts.info.location.value }}</span>
            </div>

            <div class="contact__info-item">
              <span class="contact__info-label">{{ texts.info.responseTime.label }}</span>
              <span class="contact__info-text">{{ texts.info.responseTime.value }}</span>
            </div>
          </div>

          <div class="contact__info-note">
            <p class="contact__note-text">{{ texts.info.note }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>